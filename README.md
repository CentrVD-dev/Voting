# rx-template-voting

Репозиторий с шаблоном разработки «Голосование» для Directum RX

## Описание

Решение позволяет проводить внутренние голосования в организации.
Указывать голосующих по каждому пункту голосования.
Указывать различные варианты голосов по каждому пункту голосования.
Получать итоги голосования в виде отчета с комментариями голосующих.

## Инструкция

[Инструкция к решению "Голосование"](voting_instruction.pdf)

## Состав

- Задача на проведение голосования
- Задание подготовки голосования
- Задание голосования
- Уведомление о результатах голосования
- Справочник видов голосов
- Справочник матриц видов голосов
- Справочник матриц голосующих

Шаблон разработки не содержит перекрытий объектов Sungero.DirectumRX или иных технических решений

## Права доступа

- Чтение на справочник видов голосов всем пользователям.
- Создание задачи на проведение голосования всем пользователям.
- Создание и изменение на справочники матриц пользователям, входящим в роль "Ответственные за настройку системы".

## Порядок установки

- Для работы требуется установленный Directum RX версии 25.3
- СУБД PostgeSQL / MSSQL

### Ознакомительная установка

1. Склонировать репозиторий rx-template-voting в папку.
2. Указать в _ConfigSettings.xml DDS:

```
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" /> 
  <repository folderName="<Папка из п.1>" solutionType="Work" 
     url="https://github.com/DirectumCompany/rx-template-voting" />
</block>
```

### Копирование репозитория для использование на проекте

1. Скопировать репозиторий для своей учетной записи (Fork).
2. Склонировать созданный в п. 1 репозиторий в папку.
3. Указать в _ConfigSettings.xml DDS:
```
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" /> 
  <repository folderName="<Папка из п.2>" solutionType="Work" 
     url="<Адрес репозитория gitHub учетной записи пользователя из п. 1>" />
</block>
```
### Копирование репозитория в систему контроля версий
1. В системе контроля версий с поддержкой git создать новый репозиторий.
2. Склонировать репозиторий rx-template-voting в папку с ключом ```--mirror```
3. Перейти в папку из п. 2.
4. Импортировать клонированный репозиторий в систему контроля версий командой: ```git push –mirror <Адрес репозитория из п. 1>```

## Архитектурно неочевидные моменты

- Хранение результатов голосования осуществляется в задаче. После старта задачи результаты обнуляются.
- Вычисляемые роли из матрицы голосующих вычисляются на основе задачи голосования.


